@using NN.POS.Web.Extensions
@using NN.POS.Web.Constants
<MudNavMenu>
    <MudNavGroup Title="Contacts" Expanded='$"/{_section}" == RouteName.Contact'>
        <MudNavLink Href="@RouteName.Supplier">Suppliers</MudNavLink>
        <MudNavLink Href="@RouteName.Customers">Customers</MudNavLink>
    </MudNavGroup>
    <MudNavGroup Title="User Management" Expanded='$"/{_section}" == RouteName.UsersManagement'>
        <MudNavLink Href="@RouteName.Users">Users</MudNavLink>
        <MudNavLink Href="@RouteName.Roles">Roles</MudNavLink>
    </MudNavGroup>
</MudNavMenu>

@code
{

    string? _section;

    protected override void OnInitialized()
    {
        Refresh();
        base.OnInitialized();
    }

    public void Refresh()
    {
        _section = NavigationManager.GetSection();
        Console.WriteLine(_section);
        StateHasChanged();
    }

}
